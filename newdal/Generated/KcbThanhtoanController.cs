using System; 
using System.Text; 
using System.Data;
using System.Data.SqlClient;
using System.Data.Common;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Configuration; 
using System.Xml; 
using System.Xml.Serialization;
using SubSonic; 
using SubSonic.Utilities;
// <auto-generated />
namespace VNS.HIS.DAL
{
    /// <summary>
    /// Controller class for kcb_thanhtoan
    /// </summary>
    [System.ComponentModel.DataObject]
    public partial class KcbThanhtoanController
    {
        // Preload our schema..
        KcbThanhtoan thisSchemaLoad = new KcbThanhtoan();
        private string userName = String.Empty;
        protected string UserName
        {
            get
            {
				if (userName.Length == 0) 
				{
    				if (System.Web.HttpContext.Current != null)
    				{
						userName=System.Web.HttpContext.Current.User.Identity.Name;
					}
					else
					{
						userName=System.Threading.Thread.CurrentPrincipal.Identity.Name;
					}
				}
				return userName;
            }
        }
        [DataObjectMethod(DataObjectMethodType.Select, true)]
        public KcbThanhtoanCollection FetchAll()
        {
            KcbThanhtoanCollection coll = new KcbThanhtoanCollection();
            Query qry = new Query(KcbThanhtoan.Schema);
            coll.LoadAndCloseReader(qry.ExecuteReader());
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbThanhtoanCollection FetchByID(object IdThanhtoan)
        {
            KcbThanhtoanCollection coll = new KcbThanhtoanCollection().Where("id_thanhtoan", IdThanhtoan).Load();
            return coll;
        }
		
		[DataObjectMethod(DataObjectMethodType.Select, false)]
        public KcbThanhtoanCollection FetchByQuery(Query qry)
        {
            KcbThanhtoanCollection coll = new KcbThanhtoanCollection();
            coll.LoadAndCloseReader(qry.ExecuteReader()); 
            return coll;
        }
        [DataObjectMethod(DataObjectMethodType.Delete, true)]
        public bool Delete(object IdThanhtoan)
        {
            return (KcbThanhtoan.Delete(IdThanhtoan) == 1);
        }
        [DataObjectMethod(DataObjectMethodType.Delete, false)]
        public bool Destroy(object IdThanhtoan)
        {
            return (KcbThanhtoan.Destroy(IdThanhtoan) == 1);
        }
        
        
    	
	    /// <summary>
	    /// Inserts a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Insert, true)]
	    public void Insert(string MaThanhtoan,long IdBenhnhan,string MaLuotkham,string MaDoituongKcb,short? IdDoituongKcb,short? IdLoaidoituongKcb,DateTime NgayThanhtoan,int IdNhanvienThanhtoan,byte KieuThanhtoan,int? TrangthaiIn,DateTime? NgayIn,string NguoiIn,DateTime? NgayTonghop,string NguoiTonghop,string MaKhoaThuchien,DateTime? NgayChot,byte? TrangthaiChot,decimal TongTien,decimal BhytChitra,decimal BnhanChitra,decimal? PhuThu,decimal? TuTuc,short? PtramBhyt,decimal TileChietkhau,string KieuChietkhau,decimal TongtienChietkhau,decimal? TongtienChietkhauHoadon,decimal? TongtienChietkhauChitiet,string MaLydoChietkhau,byte NoiTru,string MaPttt,DateTime? NgayRavien,string MaLydoHuy,int? IdCapphat,string MauHoadon,string KiHieu,string MaQuyen,string Serie,byte? TrangthaiSeri,long? IdHdonLog,string NguoiTao,DateTime NgayTao,DateTime? NguoiSua,string NgaySua,string IpMaytao,string IpMaysua,string TenMaytao,string TenMaysua)
	    {
		    KcbThanhtoan item = new KcbThanhtoan();
		    
            item.MaThanhtoan = MaThanhtoan;
            
            item.IdBenhnhan = IdBenhnhan;
            
            item.MaLuotkham = MaLuotkham;
            
            item.MaDoituongKcb = MaDoituongKcb;
            
            item.IdDoituongKcb = IdDoituongKcb;
            
            item.IdLoaidoituongKcb = IdLoaidoituongKcb;
            
            item.NgayThanhtoan = NgayThanhtoan;
            
            item.IdNhanvienThanhtoan = IdNhanvienThanhtoan;
            
            item.KieuThanhtoan = KieuThanhtoan;
            
            item.TrangthaiIn = TrangthaiIn;
            
            item.NgayIn = NgayIn;
            
            item.NguoiIn = NguoiIn;
            
            item.NgayTonghop = NgayTonghop;
            
            item.NguoiTonghop = NguoiTonghop;
            
            item.MaKhoaThuchien = MaKhoaThuchien;
            
            item.NgayChot = NgayChot;
            
            item.TrangthaiChot = TrangthaiChot;
            
            item.TongTien = TongTien;
            
            item.BhytChitra = BhytChitra;
            
            item.BnhanChitra = BnhanChitra;
            
            item.PhuThu = PhuThu;
            
            item.TuTuc = TuTuc;
            
            item.PtramBhyt = PtramBhyt;
            
            item.TileChietkhau = TileChietkhau;
            
            item.KieuChietkhau = KieuChietkhau;
            
            item.TongtienChietkhau = TongtienChietkhau;
            
            item.TongtienChietkhauHoadon = TongtienChietkhauHoadon;
            
            item.TongtienChietkhauChitiet = TongtienChietkhauChitiet;
            
            item.MaLydoChietkhau = MaLydoChietkhau;
            
            item.NoiTru = NoiTru;
            
            item.MaPttt = MaPttt;
            
            item.NgayRavien = NgayRavien;
            
            item.MaLydoHuy = MaLydoHuy;
            
            item.IdCapphat = IdCapphat;
            
            item.MauHoadon = MauHoadon;
            
            item.KiHieu = KiHieu;
            
            item.MaQuyen = MaQuyen;
            
            item.Serie = Serie;
            
            item.TrangthaiSeri = TrangthaiSeri;
            
            item.IdHdonLog = IdHdonLog;
            
            item.NguoiTao = NguoiTao;
            
            item.NgayTao = NgayTao;
            
            item.NguoiSua = NguoiSua;
            
            item.NgaySua = NgaySua;
            
            item.IpMaytao = IpMaytao;
            
            item.IpMaysua = IpMaysua;
            
            item.TenMaytao = TenMaytao;
            
            item.TenMaysua = TenMaysua;
            
	    
		    item.Save(UserName);
	    }
    	
	    /// <summary>
	    /// Updates a record, can be used with the Object Data Source
	    /// </summary>
        [DataObjectMethod(DataObjectMethodType.Update, true)]
	    public void Update(long IdThanhtoan,string MaThanhtoan,long IdBenhnhan,string MaLuotkham,string MaDoituongKcb,short? IdDoituongKcb,short? IdLoaidoituongKcb,DateTime NgayThanhtoan,int IdNhanvienThanhtoan,byte KieuThanhtoan,int? TrangthaiIn,DateTime? NgayIn,string NguoiIn,DateTime? NgayTonghop,string NguoiTonghop,string MaKhoaThuchien,DateTime? NgayChot,byte? TrangthaiChot,decimal TongTien,decimal BhytChitra,decimal BnhanChitra,decimal? PhuThu,decimal? TuTuc,short? PtramBhyt,decimal TileChietkhau,string KieuChietkhau,decimal TongtienChietkhau,decimal? TongtienChietkhauHoadon,decimal? TongtienChietkhauChitiet,string MaLydoChietkhau,byte NoiTru,string MaPttt,DateTime? NgayRavien,string MaLydoHuy,int? IdCapphat,string MauHoadon,string KiHieu,string MaQuyen,string Serie,byte? TrangthaiSeri,long? IdHdonLog,string NguoiTao,DateTime NgayTao,DateTime? NguoiSua,string NgaySua,string IpMaytao,string IpMaysua,string TenMaytao,string TenMaysua)
	    {
		    KcbThanhtoan item = new KcbThanhtoan();
	        item.MarkOld();
	        item.IsLoaded = true;
		    
			item.IdThanhtoan = IdThanhtoan;
				
			item.MaThanhtoan = MaThanhtoan;
				
			item.IdBenhnhan = IdBenhnhan;
				
			item.MaLuotkham = MaLuotkham;
				
			item.MaDoituongKcb = MaDoituongKcb;
				
			item.IdDoituongKcb = IdDoituongKcb;
				
			item.IdLoaidoituongKcb = IdLoaidoituongKcb;
				
			item.NgayThanhtoan = NgayThanhtoan;
				
			item.IdNhanvienThanhtoan = IdNhanvienThanhtoan;
				
			item.KieuThanhtoan = KieuThanhtoan;
				
			item.TrangthaiIn = TrangthaiIn;
				
			item.NgayIn = NgayIn;
				
			item.NguoiIn = NguoiIn;
				
			item.NgayTonghop = NgayTonghop;
				
			item.NguoiTonghop = NguoiTonghop;
				
			item.MaKhoaThuchien = MaKhoaThuchien;
				
			item.NgayChot = NgayChot;
				
			item.TrangthaiChot = TrangthaiChot;
				
			item.TongTien = TongTien;
				
			item.BhytChitra = BhytChitra;
				
			item.BnhanChitra = BnhanChitra;
				
			item.PhuThu = PhuThu;
				
			item.TuTuc = TuTuc;
				
			item.PtramBhyt = PtramBhyt;
				
			item.TileChietkhau = TileChietkhau;
				
			item.KieuChietkhau = KieuChietkhau;
				
			item.TongtienChietkhau = TongtienChietkhau;
				
			item.TongtienChietkhauHoadon = TongtienChietkhauHoadon;
				
			item.TongtienChietkhauChitiet = TongtienChietkhauChitiet;
				
			item.MaLydoChietkhau = MaLydoChietkhau;
				
			item.NoiTru = NoiTru;
				
			item.MaPttt = MaPttt;
				
			item.NgayRavien = NgayRavien;
				
			item.MaLydoHuy = MaLydoHuy;
				
			item.IdCapphat = IdCapphat;
				
			item.MauHoadon = MauHoadon;
				
			item.KiHieu = KiHieu;
				
			item.MaQuyen = MaQuyen;
				
			item.Serie = Serie;
				
			item.TrangthaiSeri = TrangthaiSeri;
				
			item.IdHdonLog = IdHdonLog;
				
			item.NguoiTao = NguoiTao;
				
			item.NgayTao = NgayTao;
				
			item.NguoiSua = NguoiSua;
				
			item.NgaySua = NgaySua;
				
			item.IpMaytao = IpMaytao;
				
			item.IpMaysua = IpMaysua;
				
			item.TenMaytao = TenMaytao;
				
			item.TenMaysua = TenMaysua;
				
	        item.Save(UserName);
	    }
    }
}
